---
import ListarProductos from "../components/ListarProductos.astro";
import ProductoList from "../components/ProductoList.astro";
import RenderCategories from "../components/RenderCategories.astro";
import Layout from "../layouts/Layout.astro";
import { countCategories } from "../utils/countCategories";
import { cargarProductos } from "../utils/loadCSV";

const productos = cargarProductos();
const categorías = countCategories(productos);
---

<Layout>
  <RenderCategories categories={categorías} />
  <ListarProductos products={productos} />
</Layout>
